<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>단순 게시판</title>
    <style>
        /* 폴더폰 화면 꽉 채우기 */
        * { box-sizing: border-box; }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: #fff; font-family: sans-serif; }
        
        /* 상단 바 */
        .header { background: #3b4890; color: #fff; padding: 15px; text-align: center; font-weight: bold; }

        /* 목록 아이템 (클릭하기 매우 크게 제작) */
        .item { 
            display: block; width: 100%; padding: 20px 10px; 
            border-bottom: 2px solid #eee; text-decoration: none; color: #000;
        }
        .item:active { background: #ddd; }
        .item-title { font-size: 18px; font-weight: bold; display: block; }
        .item-date { font-size: 12px; color: #888; }

        /* 페이지 전환 */
        .page { display: none; padding: 10px; }
        .active { display: block; }

        /* 입력창 (가장 표준적인 방식) */
        input, textarea { 
            width: 100%; display: block; margin-bottom: 10px; 
            padding: 15px; font-size: 18px; border: 2px solid #ccc;
        }
        textarea { height: 150px; }

        /* 버튼 (손가락/마우스 클릭용 대형 버튼) */
        .btn { 
            display: block; width: 100%; padding: 20px; 
            font-size: 20px; font-weight: bold; text-align: center;
            border: none; margin-bottom: 10px; cursor: pointer;
        }
        .btn-blue { background: #3b4890; color: #fff; }
        .btn-gray { background: #888; color: #fff; }
        .btn-red { background: #cc0000; color: #fff; }

        /* 본문 내용 */
        .view-title { font-size: 22px; font-weight: bold; margin-bottom: 10px; border-bottom: 2px solid #3b4890; padding-bottom: 10px; }
        .view-body { font-size: 18px; line-height: 1.5; white-space: pre-wrap; word-break: break-all; }
    </style>
</head>
<body>

<div class="header" onclick="goList()">자유게시판</div>

<div id="listPage" class="page active">
    <button class="btn btn-blue" onclick="goWrite()">새 글 쓰 기</button>
    <div id="listContent"></div>
</div>

<div id="writePage" class="page">
    <input type="text" id="inpTitle" placeholder="제목을 입력">
    <textarea id="inpContent" placeholder="내용을 입력"></textarea>
    <button class="btn btn-blue" onclick="saveData()">저장 완료</button>
    <button class="btn btn-gray" onclick="goList()">취소</button>
</div>

<div id="viewPage" class="page">
    <div id="viewContent"></div>
    <div style="margin-top:20px;">
        <button class="btn btn-gray" onclick="goList()">목록으로</button>
        <button id="delBtn" class="btn btn-red">이 글 삭제</button>
    </div>
</div>

<script>
    // 데이터 저장 키
    const STORAGE_KEY = "simple_board_data";

    // 1. 목록 가져오기
    function getPosts() {
        const data = localStorage.getItem(STORAGE_KEY);
        return data ? JSON.parse(data) : [];
    }

    // 2. 목록 화면 그리기
    function renderList() {
        const posts = getPosts();
        const container = document.getElementById('listContent');
        container.innerHTML = '';
        
        if(posts.length === 0) {
            container.innerHTML = '<p style="text-align:center; padding:20px; color:#888;">작성된 글이 없습니다.</p>';
            return;
        }

        posts.sort((a, b) => b.id - a.id).forEach(post => {
            const div = document.createElement('div');
            div.className = 'item';
            div.onclick = () => goView(post.id);
            div.innerHTML = `
                <span class="item-title">${post.title}</span>
                <span class="item-date">${post.date}</span>
            `;
            container.appendChild(div);
        });
    }

    // 3. 글 저장하기
    function saveData() {
        const title = document.getElementById('inpTitle').value;
        const content = document.getElementById('inpContent').value;

        if(!title.trim()) { alert("제목을 써주세요"); return; }

        const posts = getPosts();
        const newPost = {
            id: Date.now(),
            title: title,
            content: content,
            date: new Date().toLocaleDateString()
        };

        posts.push(newPost);
        localStorage.setItem(STORAGE_KEY, JSON.stringify(posts));
        
        document.getElementById('inpTitle').value = '';
        document.getElementById('inpContent').value = '';
        goList();
    }

    // 4. 본문 보기
    function goView(id) {
        const posts = getPosts();
        const post = posts.find(p => p.id === id);
        if(!post) return;

        const container = document.getElementById('viewContent');
        container.innerHTML = `
            <div class="view-title">${post.title}</div>
            <div class="view-body">${post.content}</div>
        `;

        document.getElementById('delBtn').onclick = () => deletePost(id);

        showPage('viewPage');
    }

    // 5. 글 삭제
    function deletePost(id) {
        if(!confirm("정말 삭제할까요?")) return;
        let posts = getPosts();
        posts = posts.filter(p => p.id !== id);
        localStorage.setItem(STORAGE_KEY, JSON.stringify(posts));
        goList();
    }

    // 화면 전환 유틸리티
    function showPage(id) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        window.scrollTo(0,0);
    }

    function goList() { showPage('listPage'); renderList(); }
    function goWrite() { showPage('writePage'); }

    // 초기 실행
    window.onload = renderList;
</script>

</body>
</html>
